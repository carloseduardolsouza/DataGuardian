# ──────────────────────────────────────────
# DataGuardian — Variáveis de Ambiente
# Copie para .env e ajuste os valores
# ──────────────────────────────────────────

# === BANCO DE DADOS ===
# Troque a senha antes de usar em produção!
DB_PASSWORD=DataGuardian123!
DATABASE_URL=postgresql://postgres:${DB_PASSWORD}@localhost:5432/backup_manager

# === REDIS (filas BullMQ) ===
# Se o Redis exigir senha, informe REDIS_PASSWORD.
# A aplicacao injeta automaticamente na REDIS_URL quando necessario.
REDIS_PASSWORD=redis123
REDIS_URL=redis://localhost:6379

# === APLICAÇÃO ===
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# Timezone do container (ex: America/Sao_Paulo, UTC)
TZ=UTC

# === SEGURANÇA ===
# Origins permitidos para CORS (* = qualquer origem)
ALLOWED_ORIGINS=*

# === WORKERS ===
# Número máximo de backups executando em paralelo
MAX_CONCURRENT_BACKUPS=3

# Intervalo do SchedulerWorker em ms (padrão: 1 min)
SCHEDULER_INTERVAL_MS=60000

# Intervalo do HealthWorker em ms (padrão: 5 min)
HEALTH_CHECK_INTERVAL_MS=300000

# Cron do CleanupWorker (padrão: todo dia às 4h)
CLEANUP_CRON=0 4 * * *

# Diretório temporário para staging de backups
TEMP_DIRECTORY=/tmp/dataguardian

# Docker: pasta no HOST montada em /var/backups dentro do container app
# Use caminho absoluto (ex: C:/backups/dataguardian no Windows, /opt/dataguardian/backups no Linux)
LOCAL_STORAGE_HOST_PATH=./backup-storage

# === EVOLUTION API (WhatsApp) ===
# Chave global da Evolution API no docker-compose
EVOLUTION_API_GLOBAL_KEY=change-me
EVOLUTION_DB_PASSWORD=evolution123


# Performance thread pool e monitor
WORKER_THREAD_POOL_SIZE=3
SYSTEM_MONITOR_INTERVAL_MS=5000
SYSTEM_MONITOR_HISTORY_SIZE=120
